<div class="m-grid__item m-grid__item--fluid m-grid m-grid--hor-desktop m-grid--desktop m-body">
  <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-container m-container--responsive m-container--xxl m-container--full-height">
    <div class="m-grid__item m-grid__item--fluid m-wrapper">
      <!-- BEGIN: Subheader -->
      <div class="m-subheader ">
        <div class="d-flex align-items-center">
          <div class="m-stack m-stack--ver m-stack--general">
            <h3 class="m-subheader__title ">
              Dashboard
            </h3>
          </div>
        </div>
      </div>
      <!-- END: Subheader -->
      <div class="m-content">

        <!--Begin::Version-->
        <div class="row">
          <div class="col-xl-6">
            <!--begin:: Dropdown-->
            <div class="row m-row--full-height">
              <div class="col-sm-12 col-md-12 col-lg-6">
                <div class="m-portlet m-portlet--half-height">
                  <div class="dropdown">
                    <button class="btn btn-block btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Version
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" x-placement="bottom-start" style="transform: translate3d(0px, 37px, 0px); top: 0px; left: 0px; will-change: transform; width:100%;">
                      <a class="dropdown-item text-center" href="#" ng-click="ctrl.updateVersion('eng-KJV')">
                        <span ng-if="$storage.version === 'eng-KJV'"><b>KJV</b></span>
                        <span ng-if="$storage.version !== 'eng-KJV'">KJV</span>
                      </a>
                      <a class="dropdown-item text-center" href="#" ng-repeat="version in ctrl.versions | filter: { id: '!eng-KJVA'}" ng-click="ctrl.updateVersion(version.id)">
                        <span ng-if="$storage.version === version.id"><b>{{version.abbreviation}}</b></span>
                        <span ng-if="$storage.version !== version.id">{{version.abbreviation}}</span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!--end:: Dropdown-->
          </div>
        </div>
        <!--End::Version-->

        <!--Begin::Section-->
        <div class="row">
          <div class="col-xl-6">
            <!--begin:: Search -->
            <div class="row">
              <div class="col-sm-12 col-md-12 col-lg-6">
                <div class="m-portlet m-portlet--half-height m-portlet--border-bottom-brand">
                  <div class="m-portlet__body">
                    <form ng-submit="ctrl.search()">
                      <div class="form-group m-form__group">
                        <div class="input-group input-group-lg">
                          <input ng-model="ctrl.query" type="text" class="form-control" placeholder="Search for..." autofocus>
                          <div class="input-group-append">
                            <button class="btn btn-primary" type="submit">
                              Go
                            </button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>

            <!-- Search Results -->
            <div class="row m-row--full-height" ng-if="ctrl.searching || ctrl.searchResults">
              <div class="col-sm-12 col-md-12 col-lg-6">
                <ul class="m-nav">
                  <li class="m-nav__item">
                    <a href="#" ng-click="ctrl.searchResults = undefined;" class="m-nav__link">
                      <i class="m-nav__link-icon fa fa-arrow-left"></i>
                      <span class="m-nav__link-text">
                        Back
                      </span>
                    </a>
                  </li>
                </ul>
                <div class="m-portlet m-portlet--half-height">
                  <div class="m-portlet__head">
										<div class="m-portlet__head-caption">
											<div class="m-portlet__head-title">
												<h3 class="m-portlet__head-text">
													{{(ctrl.searchResults.length || 0) + ' search results'}}
												</h3>
											</div>
										</div>
									</div>
                  <div class="m-portlet__body">
                    <div class="row" ng-if="ctrl.searching">
                      <div class="col-sm-12 text-center spinner">
                        <i class="fa fa-refresh fa-spin fa-4x fa-fw"></i>
                        <span class="sr-only">Loading...</span>
                      </div>
                    </div>
                    <div class="row" ng-if="ctrl.searchResults">
                      <div class="col-sm-12">
                        <div class="m-widget4">
                          <div class="m-widget4__item" ng-repeat="result in ctrl.searchResults">
                            <div class="m-widget4__info">
                              <span class="m-widget4__text">
                                <b>{{result.display || result.reference}}</b>
                                <br/>
                                <div ng-bind-html="result.text"></div>
                              </span>
                            </div>
                            <div class="m-widget4__ext" ng-if="ctrl.type === 'verses'">
                              <a href="#" class="m-widget4__icon">
                                <i class="fa fa-angle-right pull-right"></i>
                              </a>
                            </div>
                          </div>
                        </div>
                        <!-- <ul class="list-group">
                          <li class="list-group-item" ng-repeat="result in ctrl.searchResults">
                            <div class="row">
                              <div class="col-sm-12 text-left">
                                <b>{{result.display || result.reference}}</b>
                                <i class="fa fa-angle-right pull-right" ng-if="ctrl.type === 'verses'" aria-hidden="true"></i>
                              </div>
                            </div>
                            <div ng-bind-html="result.text"></div>
                          </li>
                        </ul> -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- End Search Results -->
            <!--end:: Search-->
          </div>
        </div>
        <!--End::Section-->

        <!--Begin::Section-->
        <div class="row" ng-if="!ctrl.searching && !ctrl.searchResults">
          <div class="col-xl-6">
            <!--begin:: Widgets/Quick Stats-->
            <div class="row m-row--full-height">
              <div class="col-sm-12 col-md-12 col-lg-6">
                <div class="m-portlet m-portlet--half-height m-portlet--border-bottom-success ">
                  <div class="m-portlet__body">
                    <!-- Placeholder / Home Empty State -->
                    <div class="row">
                      <div class="col-sm text-center placeholder">
                        <i class="fa fa-search fa-5x" aria-hidden="true"></i>
                        <p class="lead">Start searching above</p>
                        <p>
                          or
                        </p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm text-center">
                        <button type="button" class="btn btn-block btn-success" ui-sref="books">Browse Books</button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="m--space-30"></div>
              </div>
            </div>
            <!--end:: Widgets/Quick Stats-->
          </div>
        </div>
        <!--End::Section-->
      </div>
    </div>
  </div>
</div>
